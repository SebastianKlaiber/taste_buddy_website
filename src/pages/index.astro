---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import Main from "../components/Main.astro";
import { AstroSeo } from '@astrolib/seo';

export const prerender = true;

const { pathname } = Astro.url;
const isHomePage = pathname === "/" || pathname === "/de/";
const enPath = isHomePage ? "/" : pathname.replace("/de/", "/en/");
const dePath = isHomePage ? "/de/" : pathname.replace("/en/", "/de/");

// MobileApplication structured data
const mobileAppStructuredData = {
  "@context": "https://schema.org",
  "@type": "MobileApplication",
  "name": "TasteBuddy - Recipe Organizer & Meal Planner",
  "operatingSystem": "iOS, Android",
  "applicationCategory": "LifestyleApplication",
  "applicationSubCategory": "Food & Drink",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD",
    "availability": "https://schema.org/InStock"
  },
  "author": {
    "@type": "Organization",
    "name": "TasteBuddy",
    "url": "https://taste-buddy.app"
  },
  "screenshot": [
    "https://taste-buddy.app/images/01_EN@1x.png",
    "https://taste-buddy.app/images/02_EN@1x.png",
    "https://taste-buddy.app/images/03_EN@1x.png",
    "https://taste-buddy.app/images/04_EN@1x.png"
  ],
  "description": "Turn recipe screenshots into organized meals. Import any recipe from photos, websites, or handwritten cards.",
  "downloadUrl": [
    "https://apps.apple.com/app/id6554007741",
    "https://play.google.com/store/apps/details?id=app.tastebuddy"
  ]
};

// FAQ structured data
const faqStructuredData = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "Can I import recipe screenshots from my phone?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! TasteBuddy can read and organize recipe screenshots, including handwritten cards and photos. Our AI extracts ingredients, instructions, and cooking times automatically."
      }
    },
    {
      "@type": "Question",
      "name": "Does TasteBuddy work offline?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, all your recipes are stored locally and accessible offline. Cloud sync keeps your recipes backed up and synchronized across all your devices."
      }
    },
    {
      "@type": "Question",
      "name": "Is TasteBuddy free to use?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "TasteBuddy is free to download with essential features included. Premium features like unlimited recipe storage and AI meal planning are available via subscription."
      }
    }
  ]
};
---
<AstroSeo
  title="Turn Recipe Screenshots Into Organized Meals | TasteBuddy"
  description="Stop losing recipes in your camera roll. Import screenshots, handwritten cards, and web recipes into one searchable app. iOS & Android."
  openGraph={{
    title: "Turn Recipe Screenshots Into Organized Meals | TasteBuddy",
    description: "Stop losing recipes in your camera roll. Import screenshots, handwritten cards, and web recipes into one searchable app.",
    images: [{ url: 'https://taste-buddy.app/images/screenshots.png' }],
  }}
/>

<Layout title="Turn Recipe Screenshots Into Organized Meals | TasteBuddy">
  <Main>
    <!-- Language Switcher -->
    <div class="absolute top-6 right-6 z-10">
      <div class="flex gap-3 bg-gradient-to-br from-[#1C2513]/90 to-[#1C2513]/80 p-2 rounded-full border border-[#2A2D24]/30 backdrop-blur-sm">
        <a href={enPath} class={`px-3 py-1 rounded-full text-sm font-medium transition-colors ${pathname.includes('/de/') ? 'text-gray-400 hover:text-white' : 'bg-[#00CE31]/20 text-white border border-[#00CE31]/30'}`}>
          EN
        </a>
        <a href={dePath} class={`px-3 py-1 rounded-full text-sm font-medium transition-colors ${pathname.includes('/de/') ? 'bg-[#00CE31]/20 text-white border border-[#00CE31]/30' : 'text-gray-400 hover:text-white'}`}>
          DE
        </a>
      </div>
    </div>
    
    <section class="relative overflow-hidden py-12 sm:py-16 lg:py-20">
      <!-- Hero -->
      <div class="max-w-4xl mx-auto text-center mb-12 sm:mb-16">
        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight">
          Turn Recipe Screenshots Into <span class="text-[#00CE31]">Organized Meals</span>
        </h1>
        
        <p class="text-xl sm:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto">
          Stop losing recipes in your camera roll. Import screenshots, handwritten cards, and web recipes into one searchable app.
        </p>

        <!-- Store badges above the fold -->
        <div class="flex flex-wrap justify-center gap-4 mb-8">
          <a 
            href="https://apps.apple.com/app/id6554007741"
            aria-label="Download on the App Store"
            class="transform transition-transform duration-300 hover:scale-105"
            target="_blank" 
            rel="noopener noreferrer"
          >
            <img
              src="/images/Download_on_the_App_Store_Badge_US-UK_RGB_blk_092917.svg"
              alt="Download on the App Store"
              class="h-14 sm:h-16"
              width="120"
              height="40"
            />
          </a>
          <a 
            href="https://play.google.com/store/apps/details?id=app.tastebuddy"
            aria-label="Get it on Google Play"
            class="transform transition-transform duration-300 hover:scale-105"
            target="_blank" 
            rel="noopener noreferrer"
          >
            <img
              src="/images/Google_Play_Badge.png"
              alt="Get it on Google Play"
              class="h-14 sm:h-16"
              width="135"
              height="40"
            />
          </a>
        </div>
      </div>

      <!-- Three core features -->
      <div id="features" class="py-8 mb-12">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
          <div class="bg-gradient-to-br from-[#1C2513]/90 to-[#1C2513]/80 p-8 rounded-2xl border border-[#2A2D24]/30 backdrop-blur-sm text-center">
            <div class="text-5xl mb-4">ðŸ“¸</div>
            <h3 class="text-xl font-semibold text-white mb-3">Import Any Recipe</h3>
            <p class="text-gray-300">Screenshots, handwritten cards, or web links. AI reads and organizes everything.</p>
          </div>
          
          <div class="bg-gradient-to-br from-[#1C2513]/90 to-[#1C2513]/80 p-8 rounded-2xl border border-[#2A2D24]/30 backdrop-blur-sm text-center">
            <div class="text-5xl mb-4">ðŸ§ </div>
            <h3 class="text-xl font-semibold text-white mb-3">AI Meal Planning</h3>
            <p class="text-gray-300">Get personalized weekly meal plans based on your recipes and preferences.</p>
          </div>
          
          <div class="bg-gradient-to-br from-[#1C2513]/90 to-[#1C2513]/80 p-8 rounded-2xl border border-[#2A2D24]/30 backdrop-blur-sm text-center">
            <div class="text-5xl mb-4">ðŸ›’</div>
            <h3 class="text-xl font-semibold text-white mb-3">Auto Shopping Lists</h3>
            <p class="text-gray-300">Meal plans generate shopping lists automatically. Never forget an ingredient.</p>
          </div>
        </div>
      </div>

      <!-- App Screenshots -->
      <div class="py-8">
        <div class="app-screenshots-container">
          <div class="relative max-w-5xl mx-auto">
            <div class="phone-carousel">
              <div class="screenshots-grid">
                <div class="screenshot-wrapper">
                  <Image
                    src="/images/01_EN@1x.png"
                    alt="TasteBuddy Recipe List"
                    width={320}
                    height={640}
                    format="png"
                    class="app-screenshot"
                  />
                </div>
                <div class="screenshot-wrapper">
                  <Image
                    src="/images/02_EN@1x.png"
                    alt="TasteBuddy Recipe Details"
                    width={320}
                    height={640}
                    format="png"
                    class="app-screenshot"
                  />
                </div>
                <div class="screenshot-wrapper">
                  <Image
                    src="/images/03_EN@1x.png"
                    alt="TasteBuddy Cooking Steps"
                    width={320}
                    height={640}
                    format="png"
                    class="app-screenshot"
                  />
                </div>
                <div class="screenshot-wrapper">
                  <Image
                    src="/images/04_EN@1x.png"
                    alt="TasteBuddy Timer"
                    width={320}
                    height={640}
                    format="png"
                    class="app-screenshot"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Social Proof -->
      <div class="py-12 text-center">
        <p class="text-gray-400 mb-6">Trusted by home cooks worldwide</p>
        <div class="flex justify-center items-center gap-8 text-gray-300">
          <div>
            <div class="text-3xl font-bold text-[#00CE31]">4.8â˜…</div>
            <div class="text-sm">App Store</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-[#00CE31]">iOS</div>
            <div class="text-sm">& Android</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-[#00CE31]">Free</div>
            <div class="text-sm">to start</div>
          </div>
        </div>
      </div>

      <!-- FAQ Section -->
      <section id="faq" class="py-12 sm:py-16">
        <h2 class="text-3xl font-bold text-center text-white mb-12">
          Frequently Asked Questions
        </h2>
        
        <div class="max-w-3xl mx-auto space-y-6">
          <div class="bg-gradient-to-br from-[#1C2513]/80 to-[#1C2513]/70 rounded-2xl backdrop-blur-sm border border-[#2A2D24]/30 p-6">
            <h3 class="text-xl font-semibold text-white mb-2">Can I import recipe screenshots from my phone?</h3>
            <p class="text-gray-300">Yes! TasteBuddy can read and organize recipe screenshots, including handwritten cards and photos. Our AI extracts ingredients, instructions, and cooking times automatically.</p>
          </div>
          
          <div class="bg-gradient-to-br from-[#1C2513]/80 to-[#1C2513]/70 rounded-2xl backdrop-blur-sm border border-[#2A2D24]/30 p-6">
            <h3 class="text-xl font-semibold text-white mb-2">Does TasteBuddy work offline?</h3>
            <p class="text-gray-300">Yes, all your recipes are stored locally and accessible offline. Cloud sync keeps your recipes backed up and synchronized across all your devices.</p>
          </div>
          
          <div class="bg-gradient-to-br from-[#1C2513]/80 to-[#1C2513]/70 rounded-2xl backdrop-blur-sm border border-[#2A2D24]/30 p-6">
            <h3 class="text-xl font-semibold text-white mb-2">Is TasteBuddy free to use?</h3>
            <p class="text-gray-300">TasteBuddy is free to download with essential features included. Premium features like unlimited recipe storage and AI meal planning are available via subscription.</p>
          </div>
        </div>
      </section>

      <!-- Final CTA -->
      <section class="py-12">
        <div class="bg-gradient-to-r from-[#00CE31]/40 to-[#00CE31]/30 rounded-3xl p-8 sm:p-12 max-w-4xl mx-auto text-center backdrop-blur-sm border border-[#00CE31]/30">
          <h2 class="text-3xl font-bold text-white mb-4">Start Organizing Your Recipes Today</h2>
          <p class="text-xl text-gray-200 mb-8">
            Free to download. Available on iOS and Android.
          </p>
          
          <div class="flex flex-wrap justify-center gap-6">
            <a 
              href="https://apps.apple.com/app/id6554007741"
              class="bg-[#00CE31] hover:bg-[#00CE31]/90 text-black font-bold text-lg px-10 py-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-2xl hover:scale-105"
              target="_blank" 
              rel="noopener noreferrer"
            >
              Download Now
            </a>
          </div>
        </div>
      </section>
    </section>
  </Main>
</Layout>

<script type="application/ld+json" set:html={JSON.stringify(mobileAppStructuredData)} />
<script type="application/ld+json" set:html={JSON.stringify(faqStructuredData)} />

<style>
  .screenshots-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    max-width: 800px;
    margin: 0 auto;
    padding: 1rem;
  }
  
  @media (min-width: 768px) {
    .screenshots-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }
  
  .screenshot-wrapper {
    position: relative;
    border-radius: 1.5rem;
    overflow: hidden;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  
  .screenshot-wrapper:hover {
    transform: translateY(-5px);
    box-shadow: 0 25px 30px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
  }
  
  .app-screenshot {
    border-radius: 1.5rem;
    width: 100%;
    height: auto;
    display: block;
    border: 3px solid #2A2D24;
  }
  
  @media (max-width: 640px) {
    .screenshots-grid {
      gap: 1rem;
      padding: 0.5rem;
    }
    
    .screenshot-wrapper {
      border-radius: 1rem;
    }
    
    .app-screenshot {
      border-radius: 1rem;
      border-width: 2px;
    }
  }
  
  @keyframes float {
    0% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
    100% {
      transform: translateY(0px);
    }
  }
  
  .phone-carousel {
    animation: float 6s ease-in-out infinite;
  }
</style>
