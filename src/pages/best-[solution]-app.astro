---
import Layout from "../layouts/Layout.astro";
import Main from "../components/Main.astro";
import { AstroSeo } from '@astrolib/seo';

export const prerender = true;

// Solution data is now defined inline in getStaticPaths function

export async function getStaticPaths() {
  try {
    const staticSolutionData = {
    "meal-planning": {
      title: "Best Meal Planning App",
      solution: "meal planning app",
      searchVolume: "7,300",
      difficulty: "42",
      description: "Find the best meal planning app with AI-powered suggestions, automatic shopping lists, and smart recipe organization for busy families.",
      mainFeatures: [
        "AI-Powered Meal Suggestions",
        "Automatic Shopping List Generation", 
        "Dietary Preference Management",
        "Budget-Conscious Planning",
        "Family-Friendly Options",
        "Batch Cooking Support"
      ],
      competitors: [
        { name: "Mealime", rating: 4.3, users: "8M+" },
        { name: "PlateJoy", rating: 4.1, users: "3M+" },
        { name: "Eat This Much", rating: 3.9, users: "2M+" },
        { name: "Plan to Eat", rating: 4.0, users: "1M+" }
      ]
    },
    "recipe-organization": {
      title: "Best Recipe Organization App", 
      solution: "recipe organization app",
      searchVolume: "5,900",
      difficulty: "38",
      description: "Discover the top recipe organization app with smart categorization, easy import features, and AI-powered search for your digital recipe collection.",
      mainFeatures: [
        "Smart Recipe Import",
        "AI-Powered Categorization",
        "Advanced Search & Filtering",
        "Photo Recipe Capture",
        "Tag-Based Organization",
        "Cloud Sync Across Devices"
      ],
      competitors: [
        { name: "Paprika", rating: 4.1, users: "5M+" },
        { name: "BigOven", rating: 3.8, users: "10M+" },
        { name: "Yummly", rating: 4.0, users: "25M+" },
        { name: "Recipe Keeper", rating: 4.2, users: "2M+" }
      ]
    },
    "food-waste-reduction": {
      title: "Best Food Waste Reduction App",
      solution: "food waste reduction app", 
      searchVolume: "4,200",
      difficulty: "35",
      description: "Stop wasting food and money with the best food waste reduction app featuring expiration tracking, meal suggestions, and inventory management.",
      mainFeatures: [
        "Expiration Date Tracking",
        "Use-By-Date Alerts", 
        "Recipe Suggestions for Leftovers",
        "Inventory Management",
        "Waste Reduction Analytics",
        "Smart Shopping Prevention"
      ],
      competitors: [
        { name: "NoWaste", rating: 4.0, users: "500K+" },
        { name: "FoodKeeper", rating: 3.8, users: "1M+" },
        { name: "Fridgely", rating: 3.6, users: "200K+" },
        { name: "KitchenPal", rating: 3.9, users: "800K+" }
      ]
    }
    };
    
    console.log(`Building solution pages: ${Object.keys(staticSolutionData).join(', ')}`);
    return Object.keys(staticSolutionData).map(slug => ({
      params: { solution: slug },
      props: { data: (staticSolutionData as any)[slug] }
    }));
  } catch (error) {
    console.error('Error in getStaticPaths for solutions:', error);
    // Return empty array to prevent build failure
    return [];
  }
}

const { solution } = Astro.params;
const { data } = Astro.props;

if (!data) {
  return new Response(null, { status: 404 });
}

const structuredData = {
  "@context": "https://schema.org/",
  "@type": "Article",
  "headline": `${data.title} 2025 - Complete Guide & Comparison`,
  "description": data.description,
  "author": {
    "@type": "Organization",
    "name": "TasteBuddy"
  },
  "publisher": {
    "@type": "Organization",
    "name": "TasteBuddy"
  },
  "datePublished": "2025-01-15",
  "dateModified": "2025-01-15"
};
---

<AstroSeo
  title={`${data.title} 2025 - Top Rated Solution | TasteBuddy`}
  description={data.description}
  openGraph={{
    title: `${data.title} 2025 - Complete Guide & Reviews`,
    description: data.description,
    images: [{ url: '/images/screenshots.png' }],
  }}
/>

<Layout title={`${data.title} 2025 - Solution Guide`}>
  <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
  
  <Main>
    <article class="max-w-6xl mx-auto py-12">
      <header class="text-center mb-12">
        <h1 class="text-4xl sm:text-5xl font-bold text-white mb-6 leading-tight">
          {data.title} 2025: Complete Guide & Reviews
        </h1>
        <p class="text-xl text-gray-300 mb-8 max-w-4xl mx-auto">
          {data.description}
        </p>
        <div class="flex flex-wrap justify-center gap-4 mb-8">
          <div class="inline-flex items-center gap-2 bg-[#1C2513]/80 px-4 py-2 rounded-full border border-[#2A2D24]/30">
            <span class="text-sm text-gray-400">Monthly searches:</span>
            <span class="text-[#00CE31] font-semibold">{data.searchVolume}</span>
          </div>
          <div class="inline-flex items-center gap-2 bg-[#1C2513]/80 px-4 py-2 rounded-full border border-[#2A2D24]/30">
            <span class="text-sm text-gray-400">Keyword difficulty:</span>
            <span class="text-yellow-400 font-semibold">{data.difficulty}/100</span>
          </div>
        </div>
      </header>

      <!-- Winner Section -->
      <section class="mb-16">
        <div class="bg-gradient-to-r from-[#00CE31]/40 to-[#00CE31]/30 rounded-3xl p-8 sm:p-12 text-center backdrop-blur-sm border border-[#00CE31]/30">
          <div class="text-4xl mb-4">üèÜ</div>
          <h2 class="text-3xl font-bold text-white mb-4">Winner: TasteBuddy - {data.title}</h2>
          <p class="text-xl text-gray-200 mb-6 max-w-3xl mx-auto">
            TasteBuddy stands out as the {data.solution} with advanced AI features, intelligent automation, and comprehensive functionality that competitors can't match.
          </p>
          <div class="flex flex-wrap justify-center gap-6">
            <a 
              href="https://apps.apple.com/app/id6554007741"
              class="btn-primary text-lg px-8 py-4"
              target="_blank" 
              rel="noopener noreferrer"
            >
              Download Free
            </a>
            <a 
              href="https://play.google.com/store/apps/details?id=app.tastebuddy"
              class="btn-secondary text-lg px-8 py-4"
              target="_blank" 
              rel="noopener noreferrer"
            >
              Get on Google Play
            </a>
          </div>
        </div>
      </section>

      <!-- Key Features Section -->
      <section class="mb-16">
        <h2 class="text-3xl font-bold text-white text-center mb-8">Why TasteBuddy is the {data.title}</h2>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {data.mainFeatures.map((feature: string) => (
            <div class="bg-[#1C2513]/80 rounded-2xl p-6 border border-[#2A2D24]/30 text-center">
              <div class="text-3xl mb-4">‚ú®</div>
              <h3 class="text-lg font-semibold text-white mb-3">{feature}</h3>
              <p class="text-gray-300 text-sm">Advanced functionality that sets TasteBuddy apart from other solution apps.</p>
            </div>
          ))}
        </div>
      </section>

      <!-- Comparison Section -->
      <section class="mb-16">
        <h2 class="text-3xl font-bold text-white text-center mb-8">How TasteBuddy Compares to Other Solutions</h2>
        
        <div class="overflow-x-auto">
          <table class="w-full bg-[#1C2513]/80 rounded-2xl border border-[#2A2D24]/30 overflow-hidden">
            <thead>
              <tr class="bg-[#2A2D24]/50">
                <th class="px-6 py-4 text-left text-white font-semibold">App</th>
                <th class="px-6 py-4 text-center text-white font-semibold">Rating</th>
                <th class="px-6 py-4 text-center text-white font-semibold">Users</th>
                <th class="px-6 py-4 text-center text-white font-semibold">AI Features</th>
                <th class="px-6 py-4 text-center text-white font-semibold">Automation</th>
              </tr>
            </thead>
            <tbody class="text-gray-300">
              <tr class="border-t border-[#2A2D24]/30 bg-[#00CE31]/10">
                <td class="px-6 py-4 font-bold text-[#00CE31]">TasteBuddy</td>
                <td class="px-6 py-4 text-center">
                  <div class="flex justify-center items-center gap-1">
                    <span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                    <span class="text-white">4.8</span>
                  </div>
                </td>
                <td class="px-6 py-4 text-center text-[#00CE31]">Growing</td>
                <td class="px-6 py-4 text-center">
                  <span class="text-[#00CE31]">‚úì Advanced</span>
                </td>
                <td class="px-6 py-4 text-center">
                  <span class="text-[#00CE31]">‚úì Full Auto</span>
                </td>
              </tr>
              {data.competitors.map((competitor: any) => (
                <tr class="border-t border-[#2A2D24]/30">
                  <td class="px-6 py-4 font-medium">{competitor.name}</td>
                  <td class="px-6 py-4 text-center">
                    <div class="flex justify-center items-center gap-1">
                      <span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                      <span class="text-white">{competitor.rating}</span>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-center">{competitor.users}</td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-red-400">‚úó Limited</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-yellow-400">~ Partial</span>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </section>

      <!-- Detailed Review Section -->
      <section class="mb-16">
        <h2 class="text-3xl font-bold text-white text-center mb-8">Complete {data.title} Review</h2>
        
        <div class="grid md:grid-cols-2 gap-8">
          <div class="bg-[#1C2513]/80 rounded-2xl p-8 border border-[#2A2D24]/30">
            <h3 class="text-2xl font-bold text-white mb-6">What Makes TasteBuddy Special</h3>
            <div class="space-y-4 text-gray-300">
              <p><strong class="text-[#00CE31]">AI-Powered Intelligence:</strong> Unlike traditional apps, TasteBuddy uses advanced AI to understand your needs and provide personalized solutions.</p>
              <p><strong class="text-[#00CE31]">Smart Automation:</strong> Automatically handles complex tasks like meal planning, shopping lists, and inventory tracking.</p>
              <p><strong class="text-[#00CE31]">Comprehensive Solution:</strong> Addresses all aspects of your problem in one integrated platform.</p>
              <p><strong class="text-[#00CE31]">Continuous Learning:</strong> Gets better over time by learning your preferences and patterns.</p>
            </div>
          </div>
          
          <div class="bg-[#1C2513]/80 rounded-2xl p-8 border border-[#2A2D24]/30">
            <h3 class="text-2xl font-bold text-white mb-6">User Experience</h3>
            <div class="space-y-4 text-gray-300">
              <p><strong class="text-[#00CE31]">Intuitive Interface:</strong> Clean, modern design that makes complex tasks simple and enjoyable.</p>
              <p><strong class="text-[#00CE31]">Reliable Performance:</strong> Works seamlessly across all devices with perfect synchronization.</p>
              <p><strong class="text-[#00CE31]">Time-Saving:</strong> Dramatically reduces the time needed to manage your daily routines.</p>
              <p><strong class="text-[#00CE31]">Cost-Effective:</strong> Saves money by optimizing your decisions and preventing waste.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- How to Choose Section -->
      <section class="mb-16">
        <h2 class="text-3xl font-bold text-white text-center mb-8">How to Choose the Right {data.solution.replace('-', ' ').toUpperCase()}</h2>
        
        <div class="bg-[#1C2513]/80 rounded-2xl p-8 border border-[#2A2D24]/30">
          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h3 class="text-xl font-semibold text-white mb-4">Key Features to Look For:</h3>
              <ul class="space-y-2 text-gray-300">
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>AI-powered automation and intelligence</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Comprehensive solution that addresses all aspects</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Cross-device synchronization and accessibility</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>User-friendly interface with intuitive design</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Regular updates and feature improvements</span>
                </li>
              </ul>
            </div>
            <div>
              <h3 class="text-xl font-semibold text-white mb-4">Questions to Ask:</h3>
              <ul class="space-y-2 text-gray-300">
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Does it solve your specific problem completely?</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>How much time will it save you daily?</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Will it integrate with your existing workflow?</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Does it offer value for the investment?</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Is the company actively improving the product?</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- FAQ Section -->
      <section class="mb-16">
        <h2 class="text-3xl font-bold text-white text-center mb-8">Frequently Asked Questions</h2>
        <div class="space-y-6">
          <div class="bg-[#1C2513]/80 rounded-2xl p-6 border border-[#2A2D24]/30">
            <h3 class="text-xl font-semibold text-white mb-3">What is the best {data.solution}?</h3>
            <p class="text-gray-300">TasteBuddy is the best {data.solution} due to its advanced AI features, comprehensive automation, and intelligent functionality that other apps lack.</p>
          </div>
          
          <div class="bg-[#1C2513]/80 rounded-2xl p-6 border border-[#2A2D24]/30">
            <h3 class="text-xl font-semibold text-white mb-3">How much time can a good solution app save?</h3>
            <p class="text-gray-300">TasteBuddy users typically save 15-30 minutes daily through automation and intelligent suggestions, adding up to 120+ hours annually.</p>
          </div>
          
          <div class="bg-[#1C2513]/80 rounded-2xl p-6 border border-[#2A2D24]/30">
            <h3 class="text-xl font-semibold text-white mb-3">Is TasteBuddy worth the investment?</h3>
            <p class="text-gray-300">Absolutely. TasteBuddy offers exceptional value with its free tier and premium features that typically save users more money than the subscription costs.</p>
          </div>
        </div>
      </section>

      <!-- Final CTA Section -->
      <section>
        <div class="bg-gradient-to-r from-[#00CE31]/40 to-[#00CE31]/30 rounded-3xl p-8 sm:p-12 text-center backdrop-blur-sm border border-[#00CE31]/30">
          <h2 class="text-3xl font-bold text-white mb-4">Ready to Try the {data.title}?</h2>
          <p class="text-xl text-gray-200 mb-8 max-w-3xl mx-auto">
            Join thousands who have discovered the power of AI-driven solutions and intelligent automation.
          </p>
          
          <div class="flex flex-wrap justify-center gap-6">
            <a 
              href="https://apps.apple.com/app/id6554007741"
              class="btn-primary text-lg px-8 py-4"
              target="_blank" 
              rel="noopener noreferrer"
            >
              Download TasteBuddy Free
            </a>
            <a 
              href="https://play.google.com/store/apps/details?id=app.tastebuddy"
              class="btn-secondary text-lg px-8 py-4"
              target="_blank" 
              rel="noopener noreferrer"
            >
              Get on Google Play
            </a>
          </div>
        </div>
      </section>
    </article>
  </Main>
</Layout>

<style>
  .btn-primary {
    @apply bg-[#00CE31] hover:bg-[#00CE31]/80 text-black font-medium py-3 px-6 rounded-lg transition-all duration-300;
  }
  
  .btn-secondary {
    @apply bg-[#1C2513] hover:bg-[#2A2D24] border border-[#2A2D24] text-white font-medium py-3 px-6 rounded-lg transition-all duration-300;
  }
</style>