---
import Layout from "../layouts/Layout.astro";
import Main from "../components/Main.astro";
import { AstroSeo } from '@astrolib/seo';

export const prerender = true;

// Keyword data is now defined inline in getStaticPaths function

export async function getStaticPaths() {
  try {
    const staticKeywordData = {
    "all-recipe": {
      title: "Best All Recipe App",
      keyword: "all recipe app",
      searchVolume: "9,900",
      difficulty: "19",
      description: "Find the best all recipe app for organizing, managing, and discovering recipes. Compare top recipe apps with AI features, meal planning, and smart organization.",
      mainFeatures: [
        "AI-Powered Recipe Organization",
        "Smart Recipe Import from Any Website", 
        "Automatic Meal Planning",
        "Intelligent Shopping Lists",
        "Recipe Transformation for Diets",
        "Offline Recipe Access"
      ],
      competitors: [
        { name: "AllRecipes", rating: 4.2, users: "50M+" },
        { name: "Yummly", rating: 4.0, users: "25M+" },
        { name: "BigOven", rating: 3.8, users: "10M+" },
        { name: "Paprika", rating: 4.1, users: "5M+" }
      ]
    },
    "recipe-planner": {
      title: "Best Recipe Planner App", 
      keyword: "recipe planner app",
      searchVolume: "8,100",
      difficulty: "50",
      description: "Discover the top recipe planner app with AI meal planning, automatic shopping lists, and smart recipe organization for busy home cooks.",
      mainFeatures: [
        "Weekly Meal Planning",
        "Recipe-Based Shopping Lists",
        "Nutritional Balance Tracking",
        "Dietary Preference Settings",
        "Batch Cooking Planner",
        "Family-Friendly Meal Ideas"
      ],
      competitors: [
        { name: "Mealime", rating: 4.3, users: "8M+" },
        { name: "PlateJoy", rating: 4.1, users: "3M+" },
        { name: "Eat This Much", rating: 3.9, users: "2M+" },
        { name: "Plan to Eat", rating: 4.0, users: "1M+" }
      ]
    },
    "recipe": {
      title: "Best Recipe App",
      keyword: "recipe app", 
      searchVolume: "5,400",
      difficulty: "65",
      description: "Compare the best recipe apps for 2025. Find top-rated recipe organizers with AI features, meal planning, and smart cooking assistance.",
      mainFeatures: [
        "Advanced Recipe Search",
        "AI Recipe Recommendations", 
        "Step-by-Step Cooking Mode",
        "Recipe Collections & Tags",
        "Cooking Timer Integration",
        "Recipe Scaling & Conversion"
      ],
      competitors: [
        { name: "AllRecipes", rating: 4.2, users: "50M+" },
        { name: "Food Network", rating: 4.1, users: "30M+" },
        { name: "Tasty", rating: 4.0, users: "20M+" },
        { name: "BBC Good Food", rating: 4.2, users: "15M+" }
      ]
    }
    };
    
    console.log(`Building keyword pages: ${Object.keys(staticKeywordData).join(', ')}`);
    return Object.keys(staticKeywordData).map(slug => ({
      params: { keyword: slug },
      props: { data: (staticKeywordData as any)[slug] }
    }));
  } catch (error) {
    console.error('Error in getStaticPaths for keywords:', error);
    // Return empty array to prevent build failure
    return [];
  }
}

const { keyword } = Astro.params;
const { data } = Astro.props;

if (!data) {
  return new Response(null, { status: 404 });
}

const structuredData = {
  "@context": "https://schema.org/",
  "@graph": [
    {
      "@type": "Article",
      "headline": `${data.title} 2025 - Complete Guide & Comparison`,
      "description": data.description,
      "author": {
        "@type": "Organization",
        "name": "TasteBuddy"
      },
      "publisher": {
        "@type": "Organization",
        "name": "TasteBuddy"
      },
      "datePublished": "2025-01-15",
      "dateModified": "2025-01-15"
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": `What is the best ${data.keyword}?`,
          "acceptedAnswer": {
            "@type": "Answer",
            "text": `TasteBuddy is the best ${data.keyword} due to its advanced AI features, automatic meal planning, and intelligent recipe organization that other apps lack.`
          }
        },
        {
          "@type": "Question",
          "name": "Are recipe apps worth it?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, especially AI-powered apps like TasteBuddy that save hours of meal planning time and reduce food waste through smart organization and shopping lists."
          }
        },
        {
          "@type": "Question",
          "name": "How much do recipe apps cost?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "TasteBuddy offers a free tier with basic features, and premium features start at $4.99/month for unlimited AI meal planning and recipe transformations."
          }
        }
      ]
    }
  ]
};
---

<AstroSeo
  title={`${data.title} 2025 - Top Rated Recipe Apps | TasteBuddy`}
  description={data.description}
  openGraph={{
    title: `${data.title} 2025 - Complete Guide & Reviews`,
    description: data.description,
    images: [{ url: '/images/screenshots.png' }],
  }}
/>

<Layout title={`${data.title} 2025 - Recipe App Guide`}>
  <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
  
  <Main>
    <article class="max-w-6xl mx-auto py-12">
      <header class="text-center mb-12">
        <h1 class="text-4xl sm:text-5xl font-bold text-white mb-6 leading-tight">
          {data.title} 2025: Complete Guide & Reviews
        </h1>
        <p class="text-xl text-gray-300 mb-8 max-w-4xl mx-auto">
          {data.description}
        </p>
        <div class="flex flex-wrap justify-center gap-4 mb-8">
          <div class="inline-flex items-center gap-2 bg-[#1C2513]/80 px-4 py-2 rounded-full border border-[#2A2D24]/30">
            <span class="text-sm text-gray-400">Monthly searches:</span>
            <span class="text-[#00CE31] font-semibold">{data.searchVolume}</span>
          </div>
          <div class="inline-flex items-center gap-2 bg-[#1C2513]/80 px-4 py-2 rounded-full border border-[#2A2D24]/30">
            <span class="text-sm text-gray-400">Keyword difficulty:</span>
            <span class="text-yellow-400 font-semibold">{data.difficulty}/100</span>
          </div>
        </div>
      </header>

      <!-- Winner Section -->
      <section class="mb-16">
        <div class="bg-gradient-to-r from-[#00CE31]/40 to-[#00CE31]/30 rounded-3xl p-8 sm:p-12 text-center backdrop-blur-sm border border-[#00CE31]/30">
          <div class="text-4xl mb-4">üèÜ</div>
          <h2 class="text-3xl font-bold text-white mb-4">Winner: TasteBuddy - {data.title}</h2>
          <p class="text-xl text-gray-200 mb-6 max-w-3xl mx-auto">
            TasteBuddy stands out as the {data.keyword} with advanced AI features, automatic meal planning, and intelligent recipe organization that competitors can't match.
          </p>
          <div class="flex flex-wrap justify-center gap-6">
            <a 
              href="https://apps.apple.com/app/id6554007741"
              class="btn-primary text-lg px-8 py-4"
              target="_blank" 
              rel="noopener noreferrer"
            >
              Download Free
            </a>
            <a 
              href="https://play.google.com/store/apps/details?id=app.tastebuddy"
              class="btn-secondary text-lg px-8 py-4"
              target="_blank" 
              rel="noopener noreferrer"
            >
              Get on Google Play
            </a>
          </div>
        </div>
      </section>

      <!-- Key Features Section -->
      <section class="mb-16">
        <h2 class="text-3xl font-bold text-white text-center mb-8">Why TasteBuddy is the {data.title}</h2>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {data.mainFeatures.map((feature: string) => (
            <div class="bg-[#1C2513]/80 rounded-2xl p-6 border border-[#2A2D24]/30 text-center">
              <div class="text-3xl mb-4">‚ú®</div>
              <h3 class="text-lg font-semibold text-white mb-3">{feature}</h3>
              <p class="text-gray-300 text-sm">Advanced functionality that sets TasteBuddy apart from other recipe apps.</p>
            </div>
          ))}
        </div>
      </section>

      <!-- Comparison Section -->
      <section class="mb-16">
        <h2 class="text-3xl font-bold text-white text-center mb-8">How TasteBuddy Compares to Other Recipe Apps</h2>
        
        <div class="overflow-x-auto">
          <table class="w-full bg-[#1C2513]/80 rounded-2xl border border-[#2A2D24]/30 overflow-hidden">
            <thead>
              <tr class="bg-[#2A2D24]/50">
                <th class="px-6 py-4 text-left text-white font-semibold">App</th>
                <th class="px-6 py-4 text-center text-white font-semibold">Rating</th>
                <th class="px-6 py-4 text-center text-white font-semibold">Users</th>
                <th class="px-6 py-4 text-center text-white font-semibold">AI Features</th>
                <th class="px-6 py-4 text-center text-white font-semibold">Meal Planning</th>
              </tr>
            </thead>
            <tbody class="text-gray-300">
              <tr class="border-t border-[#2A2D24]/30 bg-[#00CE31]/10">
                <td class="px-6 py-4 font-bold text-[#00CE31]">TasteBuddy</td>
                <td class="px-6 py-4 text-center">
                  <div class="flex justify-center items-center gap-1">
                    <span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                    <span class="text-white">4.8</span>
                  </div>
                </td>
                <td class="px-6 py-4 text-center text-[#00CE31]">Growing</td>
                <td class="px-6 py-4 text-center">
                  <span class="text-[#00CE31]">‚úì Advanced</span>
                </td>
                <td class="px-6 py-4 text-center">
                  <span class="text-[#00CE31]">‚úì AI-Powered</span>
                </td>
              </tr>
              {data.competitors.map((competitor: any) => (
                <tr class="border-t border-[#2A2D24]/30">
                  <td class="px-6 py-4 font-medium">{competitor.name}</td>
                  <td class="px-6 py-4 text-center">
                    <div class="flex justify-center items-center gap-1">
                      <span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                      <span class="text-white">{competitor.rating}</span>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-center">{competitor.users}</td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-red-400">‚úó Limited</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-yellow-400">~ Basic</span>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </section>

      <!-- Detailed Review Section -->
      <section class="mb-16">
        <h2 class="text-3xl font-bold text-white text-center mb-8">Complete {data.title} Review</h2>
        
        <div class="grid md:grid-cols-2 gap-8">
          <div class="bg-[#1C2513]/80 rounded-2xl p-8 border border-[#2A2D24]/30">
            <h3 class="text-2xl font-bold text-white mb-6">What Makes TasteBuddy Special</h3>
            <div class="space-y-4 text-gray-300">
              <p><strong class="text-[#00CE31]">AI-Powered Intelligence:</strong> Unlike traditional recipe apps, TasteBuddy uses advanced AI to understand your preferences and suggest personalized meal plans.</p>
              <p><strong class="text-[#00CE31]">Smart Organization:</strong> Automatically categorizes recipes by dietary preferences, cooking time, and ingredients you have available.</p>
              <p><strong class="text-[#00CE31]">Recipe Transformation:</strong> Convert any recipe to match your dietary needs - vegan, gluten-free, keto, or any other preference.</p>
              <p><strong class="text-[#00CE31]">Seamless Import:</strong> Import recipes from any website, photo, or manual input with intelligent parsing.</p>
            </div>
          </div>
          
          <div class="bg-[#1C2513]/80 rounded-2xl p-8 border border-[#2A2D24]/30">
            <h3 class="text-2xl font-bold text-white mb-6">User Experience</h3>
            <div class="space-y-4 text-gray-300">
              <p><strong class="text-[#00CE31]">Intuitive Interface:</strong> Clean, modern design that makes recipe management effortless and enjoyable.</p>
              <p><strong class="text-[#00CE31]">Offline Access:</strong> Access your entire recipe collection even without internet connection.</p>
              <p><strong class="text-[#00CE31]">Cross-Platform:</strong> Available on iOS and Android with perfect sync between devices.</p>
              <p><strong class="text-[#00CE31]">Regular Updates:</strong> Constantly improving with new AI features and user-requested functionality.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- How to Choose Section -->
      <section class="mb-16">
        <h2 class="text-3xl font-bold text-white text-center mb-8">How to Choose the Right {data.keyword.replace('-', ' ').toUpperCase()}</h2>
        
        <div class="bg-[#1C2513]/80 rounded-2xl p-8 border border-[#2A2D24]/30">
          <div class="grid md:grid-cols-2 gap-8">
            <div>
              <h3 class="text-xl font-semibold text-white mb-4">Key Features to Look For:</h3>
              <ul class="space-y-2 text-gray-300">
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>AI-powered meal planning and suggestions</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Easy recipe import from websites and photos</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Automatic shopping list generation</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Dietary restriction and preference handling</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Cross-device synchronization</span>
                </li>
              </ul>
            </div>
            <div>
              <h3 class="text-xl font-semibold text-white mb-4">Questions to Ask:</h3>
              <ul class="space-y-2 text-gray-300">
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Do you want AI to help plan your meals?</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>How important is recipe organization?</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Do you need dietary transformation features?</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Will you use it for family meal planning?</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="text-[#00CE31] mt-1">‚Ä¢</span>
                  <span>Do you want offline recipe access?</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- FAQ Section -->
      <section class="mb-16">
        <h2 class="text-3xl font-bold text-white text-center mb-8">Frequently Asked Questions</h2>
        <div class="space-y-6">
          <div class="bg-[#1C2513]/80 rounded-2xl p-6 border border-[#2A2D24]/30">
            <h3 class="text-xl font-semibold text-white mb-3">What is the best {data.keyword}?</h3>
            <p class="text-gray-300">TasteBuddy is the best {data.keyword} due to its advanced AI features, automatic meal planning, and intelligent recipe organization that other apps lack.</p>
          </div>
          
          <div class="bg-[#1C2513]/80 rounded-2xl p-6 border border-[#2A2D24]/30">
            <h3 class="text-xl font-semibold text-white mb-3">Are recipe apps worth it?</h3>
            <p class="text-gray-300">Yes, especially AI-powered apps like TasteBuddy that save hours of meal planning time and reduce food waste through smart organization and shopping lists.</p>
          </div>
          
          <div class="bg-[#1C2513]/80 rounded-2xl p-6 border border-[#2A2D24]/30">
            <h3 class="text-xl font-semibold text-white mb-3">How much do recipe apps cost?</h3>
            <p class="text-gray-300">TasteBuddy offers a free tier with basic features, and premium features start at $4.99/month for unlimited AI meal planning and recipe transformations.</p>
          </div>
        </div>
      </section>

      <!-- Final CTA Section -->
      <section>
        <div class="bg-gradient-to-r from-[#00CE31]/40 to-[#00CE31]/30 rounded-3xl p-8 sm:p-12 text-center backdrop-blur-sm border border-[#00CE31]/30">
          <h2 class="text-3xl font-bold text-white mb-4">Ready to Try the {data.title}?</h2>
          <p class="text-xl text-gray-200 mb-8 max-w-3xl mx-auto">
            Join thousands of home cooks who have discovered the power of AI-driven recipe management and meal planning.
          </p>
          
          <div class="flex flex-wrap justify-center gap-6">
            <a 
              href="https://apps.apple.com/app/id6554007741"
              class="btn-primary text-lg px-8 py-4"
              target="_blank" 
              rel="noopener noreferrer"
            >
              Download TasteBuddy Free
            </a>
            <a 
              href="https://play.google.com/store/apps/details?id=app.tastebuddy"
              class="btn-secondary text-lg px-8 py-4"
              target="_blank" 
              rel="noopener noreferrer"
            >
              Get on Google Play
            </a>
          </div>
        </div>
      </section>
    </article>
  </Main>
</Layout>

<style>
  .btn-primary {
    @apply bg-[#00CE31] hover:bg-[#00CE31]/80 text-black font-medium py-3 px-6 rounded-lg transition-all duration-300;
  }
  
  .btn-secondary {
    @apply bg-[#1C2513] hover:bg-[#2A2D24] border border-[#2A2D24] text-white font-medium py-3 px-6 rounded-lg transition-all duration-300;
  }
</style> 