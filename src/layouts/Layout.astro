---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

interface Props {
  title: string;
  description?: string;
}

const { title, description = "The best recipe app and AI meal planner for home cooks. Organize recipes, generate meal plans, create shopping lists, and transform recipes for dietary needs." } = Astro.props;
const primaryKeyword = "recipe app";
const secondaryKeywords = "best recipe app, recipe planner app, meal planner app, AI meal planning, recipe organizer app, digital cookbook app";

const structuredData = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "SoftwareApplication",
      "name": "TasteBuddy - Best Recipe App & AI Meal Planner",
      "applicationCategory": ["LifestyleApplication", "FoodApplication", "ProductivityApplication"],
      "operatingSystem": ["iOS", "Android"],
      "description": "The best recipe app and AI meal planner for home cooks. Organize recipes, generate meal plans, create shopping lists, and transform recipes for dietary needs.",
      "keywords": "recipe app, best recipe app, recipe planner app, meal planner app, AI meal planning, recipe organizer, AI cooking assistant",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "150"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "AI-powered meal planning and recipe suggestions",
        "Smart recipe organization with dietary filters",
        "Automatic shopping list generation from meal plans",
        "Recipe image generation and visual cookbook creation",
        "Recipe import from any website or photo",
        "Dietary transformation (vegan, gluten-free, low-carb)",
        "OCR recipe scanning from cookbooks and magazines",
        "Cloud sync across all devices",
        "Shareable digital cookbooks"
      ],
      "downloadUrl": ["https://apps.apple.com/app/id6554007741", "https://play.google.com/store/apps/details?id=app.tastebuddy"],
      "screenshot": "/images/screenshots.png",
      "publisher": {
        "@id": "https://www.taste-buddy.app/#organization"
      }
    },
    {
      "@type": "Organization",
      "@id": "https://www.taste-buddy.app/#organization",
      "name": "TasteBuddy",
      "url": "https://www.taste-buddy.app",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.taste-buddy.app/images/logo.png"
      },
      "description": "Developer of the TasteBuddy AI-powered recipe management and meal planning application",
      "foundingDate": "2024",
      "sameAs": [
        "https://apps.apple.com/app/id6554007741",
        "https://play.google.com/store/apps/details?id=app.tastebuddy"
      ]
    }
  ]
};

---

<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta property="og:description" content={description} />
    <meta name="viewport" content="width=device-width" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <meta name="description" content={description} />
    <meta name="robots" content="index, follow" />
    <meta name="keywords" content={`${primaryKeyword}, ${secondaryKeywords}, all recipe app, recipe planner app free, meal planning app, cooking app, hands-free cooking, iOS app, Android app, kitchen assistant, AI recipe suggestions`} />
    <meta property="og:description" content={description} />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content="/images/screenshots.png" />
    <link rel="canonical" href={Astro.url.href} />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="generator" content={Astro.generator} />
    <title>{title || "Recipe Keeper App | TasteBuddy"}</title>
    <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
  </head>
  <body class="min-h-screen flex flex-col bg-[#10130B] font-['Inter',sans-serif] text-gray-100">
    <Header />
    
    <main class="flex-grow">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 md:py-12">
        {Astro.url.pathname === "/" && (
          <header class="text-center max-w-4xl mx-auto py-8 sm:py-12 md:py-16">
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-4 sm:mb-6 leading-tight tracking-tight">
              Spend Less Time Searching,<br class="hidden sm:inline">
              More Time Cooking
            </h1>
            <p class="text-xl sm:text-2xl text-gray-300 max-w-3xl mx-auto leading-relaxed">
              Organize and discover recipes that match your taste profile.<br class="hidden sm:inline">
              Cook with confidence using our smart kitchen companion.
            </p>
          </header>
        )}

        {Astro.url.pathname === "/" && (
          <section class="my-12 sm:my-16 md:my-20 text-center">
            <h2 class="text-2xl sm:text-3xl font-semibold text-white mb-6 sm:mb-8">
              Why Home Cooks Love Our Recipe Keeper
            </h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8">
              <div class="p-6 sm:p-8 bg-[#1C2513]/80 rounded-2xl backdrop-blur-sm border border-[#2A2D24]/30 transition-all duration-300 hover:shadow-lg hover:shadow-[#00CE31]/20 hover:-translate-y-1">
                <div class="text-3xl mb-4">ðŸ•’</div>
                <h3 class="text-xl font-medium text-white mb-3">Save Time</h3>
                <p class="text-gray-300">Cut meal planning time by 50% with smart weekly suggestions based on your pantry</p>
              </div>
              <div class="p-6 sm:p-8 bg-[#1C2513]/80 rounded-2xl backdrop-blur-sm border border-[#2A2D24]/30 transition-all duration-300 hover:shadow-lg hover:shadow-[#00CE31]/20 hover:-translate-y-1">
                <div class="text-3xl mb-4">ðŸ§ </div>
                <h3 class="text-xl font-medium text-white mb-3">Reduce Stress</h3>
                <p class="text-gray-300">Automatic grocery lists that update as you modify recipes</p>
              </div>
              <div class="p-6 sm:p-8 bg-[#1C2513]/80 rounded-2xl backdrop-blur-sm border border-[#2A2D24]/30 transition-all duration-300 hover:shadow-lg hover:shadow-[#00CE31]/20 hover:-translate-y-1">
                <div class="text-3xl mb-4">ðŸ“ˆ</div>
                <h3 class="text-xl font-medium text-white mb-3">Cook Better</h3>
                <p class="text-gray-300">Get usage analytics to improve your most underused kitchen tools</p>
              </div>
            </div>
          </section>
        )}

        <slot />
      </div>
    </main>

    <Footer />
  </body>
</html>

<style is:global>
  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: rgba(26, 29, 20, 0.3);
  }
  
  ::-webkit-scrollbar-thumb {
    background: rgba(42, 45, 36, 0.5);
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: rgba(42, 45, 36, 0.8);
  }
  
  /* Button styles */
  .btn-primary {
    @apply bg-gradient-to-r from-[#00CE31] to-[#00CE31]/90 hover:from-[#00CE31]/90 hover:to-[#00CE31] text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5;
  }
  
  .btn-secondary {
    @apply bg-[#1C2513] hover:bg-[#2A2D24] border border-[#2A2D24] text-white font-medium py-3 px-6 rounded-lg transition-all duration-300;
  }
</style>
